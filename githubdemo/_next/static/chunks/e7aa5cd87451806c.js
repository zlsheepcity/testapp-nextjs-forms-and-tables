(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63469,4207,e=>{"use strict";var s=e.i(43476);e.s(["SideLoading",0,({isLoading:e=!1})=>(0,s.jsx)("section",{className:"fixed top-[32%] left-[0]",children:e&&(0,s.jsxs)("div",{className:"w-32 h-24 grid place-items-center rounded-r-md bg-cyan-800 text-white",children:[(0,s.jsxs)("svg",{className:"mr-3 size-8 animate-spin",viewBox:"0 0 24 24",children:[(0,s.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,s.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,s.jsx)("p",{className:"text-xs font-bold",children:"Please wait..."})]})})],63469),e.s(["Oops",0,({children:e,isError:l=!0})=>(0,s.jsxs)("p",{"aria-live":"polite",className:"p-1",children:[(0,s.jsx)("span",{className:l?"inline-block w-2 h-2 mr-2 rounded-full align-middle bg-pink-600":"inline-block w-2 h-2 mr-2 rounded-full align-middle bg-sky-600"}),e]})],4207)},89954,e=>{"use strict";var s=e.i(43476),l=e.i(71645),a=e.i(81307);let t=a.z.object({email:a.z.string().email(),password:a.z.string().min(4)}).safeParse;async function i(e,s){let l={email:s.get("email"),password:s.get("password")},{success:a,error:i,data:n}=t(l);return a?await r(l):{success:!1,errors:i.flatten().fieldErrors,values:l}}async function r(e){let s=[],{email:l}=e;"incorrect@email.com"===l&&s.push({email:["Special case triggered: incorrect email"]});let{password:a}=e;return("incorrect-password"===a&&s.push({password:["Special case triggered: incorrect password"]}),await new Promise(e=>{setTimeout(e,2e3)}),s.length)?{errors:s.reduce((e,s)=>({...e,...s}),{}),values:e}:{success:!0,values:e}}async function n(e){return await new Promise(e=>{setTimeout(e,2e3)}),e&&"0000"!==e?{success:!0}:{success:!1}}var c=e.i(63469),d=e.i(4207);let o=({onSuccess:e})=>{let[a,t,r]=(0,l.useActionState)(i,null),[n,o]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{a?.success&&o(!0)},[a]),(0,l.useEffect)(()=>{n&&e()},[n]),(0,s.jsxs)("form",{action:t,noValidate:!1,className:"w-xs max-w-full",children:[(0,s.jsxs)("fieldset",{className:"flex flex-col my-4",children:[(0,s.jsx)("label",{htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{type:"email",name:"email",id:"email",placeholder:"",defaultValue:a?.values?.email??"",className:"text-sm p-2 border-2 sm:text-xl"}),a?.errors?.email&&(0,s.jsx)(d.Oops,{children:a.errors.email})]}),(0,s.jsxs)("fieldset",{className:"flex flex-col my-4",children:[(0,s.jsx)("label",{htmlFor:"password",children:"Password"}),(0,s.jsx)("input",{type:"password",name:"password",id:"password",placeholder:"",defaultValue:a?.values?.password??"",className:"text-sm p-2 border-2 sm:text-xl"}),a?.errors?.password&&(0,s.jsx)(d.Oops,{children:a.errors.password})]}),(0,s.jsxs)("div",{className:"flex gap-4 my-8",children:[(0,s.jsx)("button",{type:"submit",disabled:r,className:"block p-2 rounded-md text-xl border-2 border-cyan-900 bg-cyan-900 hover:bg-cyan-800",children:"Submit"}),(0,s.jsx)("button",{type:"button",disabled:r,onClick:()=>o(!0),className:"block p-2 rounded-md text-xl border-2 border-cyan-900 hover:bg-slate-800",children:"Skip to OTP"})]}),(0,s.jsx)(c.SideLoading,{isLoading:r}),(0,s.jsxs)("section",{className:"py-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold leading-10 tracking-tight",children:"Copy-paste features"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"incorrect@email.com"}),(0,s.jsx)("li",{children:"incorrect-password"})]})]})]})},m=({mask:e="****",submit:a})=>{let[t,i]=(0,l.useState)(""),r=s=>!(s.length<e.length);(0,l.useEffect)(()=>{r(t)&&a(t)},[t]);let n=s=>{let l=s.target,a=l.value.replace(/[^0-9]/g,""),n=(t+a).slice(0,e.length);if(!a||(i(n),s.target.disabled=!0,r(n)))return;let c=l.nextElementSibling;if(c&&a.length>1)for(let e=2;e<=a.length;e++)c=c?.nextElementSibling||null;c&&(c.disabled=!1,c.focus())},c=e=>{if("Backspace"===e.key&&t.length){i(t.slice(0,-1));let s=e.target,l=s.previousElementSibling;s&&l&&(s.disabled=!0,l.disabled=!1,l.focus())}};return(0,s.jsxs)("section",{className:"",children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold",children:"Enter OTP code"}),(0,s.jsx)("fieldset",{className:"flex gap-2 my-2",children:[...e].map((e,l)=>(0,s.jsx)(x,{index:l,value:t[l]||"",onChange:n,onKeyUp:c},l))})]})},x=({index:e,value:l="",onChange:a,onKeyUp:t})=>(0,s.jsx)("input",{className:"w-12 py-1 rounded-sm text-3xl text-center capitalize font-semibold text-white bg-cyan-700 disabled:bg-cyan-900",type:"text",placeholder:"",value:l,tabIndex:e,disabled:0!==e,autoFocus:0===e,onChange:a,onKeyUp:t}),u=({onSuccess:e})=>{let[a,t]=(0,l.useState)(0),[i,r]=(0,l.useState)(!1),[d,o]=(0,l.useState)(!1),x=async e=>{r(!0);let s=await n(e);o(s?.success||!1),t(a+1),r(!1)};return(0,l.useEffect)(()=>{d&&e()},[d]),(0,s.jsxs)("section",{id:"SectionOTPForm",children:[(0,s.jsx)(c.SideLoading,{isLoading:i}),(0,s.jsx)(m,{mask:"****",submit:x},a),!i&&!d&&a>0&&(0,s.jsx)("div",{children:"Wrong code! Please try again."}),(0,s.jsxs)("section",{className:"pt-32 pb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold leading-10 tracking-tight",children:"Copy-paste features"}),(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"0000 (incorrect)"}),(0,s.jsx)("li",{children:"5446 (will pass)"})]})]})]})},h=()=>{let[e,a]=(0,l.useState)(!1),[t,i]=(0,l.useState)(!1);return(0,s.jsx)("div",{className:"flex min-h-screen items-center justify-center font-sans",children:(0,s.jsxs)("main",{className:"flex min-h-screen w-full max-w-3xl flex-col items-center py-8 px-8 sm:items-start",children:[(0,s.jsxs)("header",{className:"flex gap-4 mb-8",children:[(0,s.jsx)("div",{className:"max-w-xs text-2xl font-semibold leading-10 tracking-tight",children:(0,s.jsx)("a",{href:"/testapp-nextjs-forms-and-tables",className:"underline decoration-2",children:"Home"})}),(0,s.jsx)("h1",{className:"text-3xl font-semibold leading-10 tracking-tight",children:"Login"})]}),!e&&(0,s.jsx)(o,{onSuccess:()=>a(!0)}),e&&!t&&(0,s.jsx)(u,{onSuccess:()=>i(!0)}),t&&(0,s.jsxs)("article",{children:[(0,s.jsx)("h2",{className:"text-3xl font-semibold leading-10 tracking-tight",children:"Awesome! OTP success!"}),(0,s.jsxs)("div",{className:"flex gap-4 my-8",children:[(0,s.jsx)("a",{href:"/testapp-nextjs-forms-and-tables/datatable",className:"block p-2 rounded-md text-xl border-2 border-cyan-900 bg-cyan-900 hover:bg-cyan-800",children:"Continue"}),(0,s.jsx)("button",{className:"block p-2 rounded-md text-xl border-2 border-cyan-900 hover:bg-slate-800",onClick:e=>{a(!0),i(!1)},children:"Try again"})]})]})]})})};e.s(["PageLogin",0,h,"default",0,h],89954)}]);